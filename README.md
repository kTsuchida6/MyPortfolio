# ニュース要約システム
ChatGPTの要約機能を利用したシステムを作成しようと思い、作成に至った。
使用したAPIは**Feedly API**と**azure OpenAI API**の二つである。

**generate.py**で実際にニュースを要約させ、出力している。また**collect_article.py**をインポートすることで自作した関数を実行している。
## 全体の構成
1. FeedlyAPIを用いて、ニュース記事のタイトルと記事が掲載されたページ名、URLを取得する。
2. **LangChain**の**Document Loader**クラスでURLからサイトの内容を取得する。
3. OpenAI APIにサイトの内容を渡し、文章を要約させ出力する。
   
Articles.xlsxで取得した記事のデータを記録、またarticlesフォルダで実際に生成された記事を保存している。
## 各ステップについて
### FeedlyAPIを用いたデータの取得
get_item関数によってデータを取得する。Feedlyからのデータの取得には**requests**の**get**メソッドを用いている。

また取得したデータはエクセルファイルによって管理する。add_data関数では取得したデータのIDを参照し、すでに同じIDが存在している場合にエラーを出力し、存在していない場合にその要素をエクセルファイルに追加している。
### サイト内容の取得
Feedlyから取得した記事の元サイトのURLを用いて、元サイトの内容をロードする。ページのロードを行うことができるDocument Loaderはいくつか存在しているが、今回は**SeleniumURLLoader**を利用した。
### OpenAI APIによる要約
ロードされた記事の情報をOpen AIの**ChatCompletion**に渡す。AIモデルには**gpt-3.5-turbo**を使用している。

最終的にマークダウンファイル形式で出力するため、プロンプトではできる限り具体的に出力形式の指示を与えている。
